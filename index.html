<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2487.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: right; font: 14.0px '.AppleSystemUIFontMonospaced'; color: #000000; color: rgba(0, 0, 0, 0.19); -webkit-text-stroke: rgba(0, 0, 0, 0.19)}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px '.AppleSystemUIFontMonospaced'; color: #000000; color: rgba(0, 0, 0, 0.19); -webkit-text-stroke: rgba(0, 0, 0, 0.19); min-height: 17.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px '.AppleSystemUIFontMonospaced'; color: #0c0c0c; -webkit-text-stroke: #0c0c0c; min-height: 17.0px}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px '.AppleSystemUIFontMonospaced'; color: #0c0c0c; -webkit-text-stroke: #0c0c0c}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px '.AppleSystemUIFontMonospaced'; color: #0c0c0c; -webkit-text-stroke: #855504}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px '.AppleSystemUIFontMonospaced'; color: #0c0c0c; -webkit-text-stroke: #000000}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px '.AppleSystemUIFontMonospaced'; color: #8f9096; -webkit-text-stroke: #8f9096}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px '.AppleSystemUIFontMonospaced'; color: #0c0c0c; -webkit-text-stroke: #42933e}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px '.AppleSystemUIFontMonospaced'; color: #0c0c0c; -webkit-text-stroke: #930093}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px '.AppleSystemUIFontMonospaced'; color: #b27106; -webkit-text-stroke: #b27106}
    p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Helvetica Neue'; color: #0c0c0c; -webkit-text-stroke: #0c0c0c; min-height: 15.0px}
    p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Helvetica Neue'; color: #0c0c0c; -webkit-text-stroke: #0c0c0c; background-color: #ffffff; min-height: 15.0px}
    p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Helvetica Neue'; color: #0c0c0c; -webkit-text-stroke: #0c0c0c}
    span.s1 {font-kerning: none; background-color: #ffffff}
    span.s2 {font-kerning: none}
    span.s3 {font-kerning: none; background-color: #ffffff; -webkit-text-stroke: 0px #0c0c0c}
    span.s4 {font-kerning: none; background-color: #ffffff; -webkit-text-stroke: 0px #000000}
    span.s5 {font-kerning: none; color: #855504; background-color: #ffffff}
    span.s6 {font-kerning: none; color: #42933e; background-color: #ffffff; -webkit-text-stroke: 0px #42933e}
    span.s7 {font-kerning: none; color: #855504; background-color: #ffffff; -webkit-text-stroke: 0px #855504}
    span.s8 {font-kerning: none; color: #0c0c0c; background-color: #ffffff; -webkit-text-stroke: 0px #0c0c0c}
    span.s9 {font-kerning: none; color: #930093; background-color: #ffffff; -webkit-text-stroke: 0px #930093}
    span.s10 {font-kerning: none; color: #42933e; background-color: #ffffff}
    span.s11 {font-kerning: none; color: #930093; background-color: #ffffff}
  </style>
</head>
<body>
<p class="p1"><span class="s1">280</span></p>
<p class="p1"><span class="s1">281</span></p>
<p class="p1"><span class="s1">282</span></p>
<p class="p1"><span class="s1">283</span></p>
<p class="p1"><span class="s1">284</span></p>
<p class="p1"><span class="s1">285</span></p>
<p class="p1"><span class="s1">286</span></p>
<p class="p1"><span class="s1">287</span></p>
<p class="p1"><span class="s1">288</span></p>
<p class="p1"><span class="s1">289</span></p>
<p class="p1"><span class="s1">290</span></p>
<p class="p1"><span class="s1">291</span></p>
<p class="p1"><span class="s1">292</span></p>
<p class="p1"><span class="s1">293</span></p>
<p class="p1"><span class="s1">294</span></p>
<p class="p1"><span class="s1">295</span></p>
<p class="p1"><span class="s1">296</span></p>
<p class="p1"><span class="s1">297</span></p>
<p class="p1"><span class="s1">298</span></p>
<p class="p1"><span class="s1">299</span></p>
<p class="p1"><span class="s1">300</span></p>
<p class="p1"><span class="s1">301</span></p>
<p class="p1"><span class="s1">302</span></p>
<p class="p1"><span class="s1">303</span></p>
<p class="p1"><span class="s1">304</span></p>
<p class="p1"><span class="s1">305</span></p>
<p class="p1"><span class="s1">306</span></p>
<p class="p1"><span class="s1">307</span></p>
<p class="p1"><span class="s1">308</span></p>
<p class="p1"><span class="s1">309</span></p>
<p class="p1"><span class="s1">310</span></p>
<p class="p1"><span class="s1">311</span></p>
<p class="p1"><span class="s1">312</span></p>
<p class="p1"><span class="s1">313</span></p>
<p class="p1"><span class="s1">314</span></p>
<p class="p1"><span class="s1">315</span></p>
<p class="p1"><span class="s1">316</span></p>
<p class="p1"><span class="s1">317</span></p>
<p class="p1"><span class="s1">318</span></p>
<p class="p1"><span class="s1">319</span></p>
<p class="p1"><span class="s1">320</span></p>
<p class="p1"><span class="s1">321</span></p>
<p class="p1"><span class="s1">322</span></p>
<p class="p1"><span class="s1">323</span></p>
<p class="p1"><span class="s1">324</span></p>
<p class="p1"><span class="s1">325</span></p>
<p class="p1"><span class="s1">326</span></p>
<p class="p1"><span class="s1">327</span></p>
<p class="p1"><span class="s1">328</span></p>
<p class="p1"><span class="s1">329</span></p>
<p class="p1"><span class="s1">330</span></p>
<p class="p1"><span class="s1">331</span></p>
<p class="p1"><span class="s1">332</span></p>
<p class="p1"><span class="s1">333</span></p>
<p class="p1"><span class="s1">334</span></p>
<p class="p1"><span class="s1">335</span></p>
<p class="p1"><span class="s1">336</span></p>
<p class="p1"><span class="s1">337</span></p>
<p class="p1"><span class="s1">338</span></p>
<p class="p1"><span class="s1">339</span></p>
<p class="p1"><span class="s1">340</span></p>
<p class="p1"><span class="s1">341</span></p>
<p class="p1"><span class="s1">342</span></p>
<p class="p1"><span class="s1">343</span></p>
<p class="p1"><span class="s1">344</span></p>
<p class="p1"><span class="s1">345</span></p>
<p class="p1"><span class="s1">346</span></p>
<p class="p1"><span class="s1">347</span></p>
<p class="p1"><span class="s1">348</span></p>
<p class="p2"><span class="s2"></span><br></p>
<p class="p2"><span class="s2"></span><br></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>.pill{padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.1);font-weight:600}</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s4">document</span><span class="s3">.</span><span class="s5">getElementById</span><span class="s3">(</span><span class="s6">'fullscreen'</span><span class="s3">).</span><span class="s5">addEventListener</span><span class="s3">(</span><span class="s6">'click'</span><span class="s3">, </span><span class="s4">toggleFullscreen</span><span class="s3">);</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s1">document</span><span class="s3">.</span><span class="s7">getElementById</span><span class="s3">(</span><span class="s6">'reset'</span><span class="s3">).</span><span class="s7">addEventListener</span><span class="s3">(</span><span class="s6">'click'</span><span class="s3">, ()=&gt;{ </span><span class="s1">state</span><span class="s3">=</span><span class="s6">'playing'</span><span class="s3">; </span><span class="s1">tStart</span><span class="s3">=</span><span class="s1">performance</span><span class="s3">.</span><span class="s7">now</span><span class="s3">(); </span><span class="s1">elapsed</span><span class="s3">=</span><span class="s7">0</span><span class="s3">; </span><span class="s1">initField</span><span class="s3">(); </span><span class="s1">hideIntro</span><span class="s3">(); </span><span class="s1">hideWin</span><span class="s3">(); });</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s4">window</span><span class="s3">.</span><span class="s5">addEventListener</span><span class="s3">(</span><span class="s6">'resize'</span><span class="s3">, ()=&gt;</span><span class="s4">resize</span><span class="s3">(</span><span class="s5">true</span><span class="s3">));</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s1">resize</span><span class="s3">(</span><span class="s7">true</span><span class="s3">);</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p7"><span class="s8"><span class="Apple-converted-space">  </span></span><span class="s1"><i>// Intro &amp; modal controls</i></span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s1">startBtn</span><span class="s3">.</span><span class="s7">addEventListener</span><span class="s3">(</span><span class="s6">'click'</span><span class="s3">, </span><span class="s1">startGame</span><span class="s3">);</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s1">againBtn</span><span class="s3">.</span><span class="s7">addEventListener</span><span class="s3">(</span><span class="s6">'click'</span><span class="s3">, ()=&gt;{ </span><span class="s1">hideWin</span><span class="s3">(); </span><span class="s1">startGame</span><span class="s3">(); });</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s1">closeModalBtn</span><span class="s3">.</span><span class="s7">addEventListener</span><span class="s3">(</span><span class="s6">'click'</span><span class="s3">, </span><span class="s1">hideWin</span><span class="s3">);</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s9">function</span><span class="s3"> </span><span class="s1">startGame</span><span class="s3">(){ </span><span class="s1">hideIntro</span><span class="s3">(); </span><span class="s1">hideWin</span><span class="s3">(); </span><span class="s1">state</span><span class="s3">=</span><span class="s6">'playing'</span><span class="s3">; </span><span class="s1">elapsed</span><span class="s3">=</span><span class="s7">0</span><span class="s3">; </span><span class="s1">tStart</span><span class="s3">=</span><span class="s1">performance</span><span class="s3">.</span><span class="s7">now</span><span class="s3">(); </span><span class="s1">initField</span><span class="s3">(); }</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s9">function</span><span class="s3"> </span><span class="s1">hideIntro</span><span class="s3">(){ </span><span class="s1">intro</span><span class="s3">.</span><span class="s7">style</span><span class="s3">.</span><span class="s7">display</span><span class="s3">=</span><span class="s6">'none'</span><span class="s3">; }</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s9">function</span><span class="s3"> </span><span class="s1">showIntro</span><span class="s3">(){ </span><span class="s1">intro</span><span class="s3">.</span><span class="s7">style</span><span class="s3">.</span><span class="s7">display</span><span class="s3">=</span><span class="s6">'flex'</span><span class="s3">; }</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s9">function</span><span class="s3"> </span><span class="s1">hideWin</span><span class="s3">(){ </span><span class="s1">winModal</span><span class="s3">.</span><span class="s7">classList</span><span class="s3">.</span><span class="s7">remove</span><span class="s3">(</span><span class="s6">'show'</span><span class="s3">); }</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s9">function</span><span class="s3"> </span><span class="s1">showWin</span><span class="s3">(){ </span><span class="s1">winModal</span><span class="s3">.</span><span class="s7">classList</span><span class="s3">.</span><span class="s7">add</span><span class="s3">(</span><span class="s6">'show'</span><span class="s3">); }</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s9">function</span><span class="s3"> </span><span class="s1">onAllCut</span><span class="s3">(){ </span><span class="s9">if</span><span class="s3">(</span><span class="s1">state</span><span class="s3">!==</span><span class="s6">'playing'</span><span class="s3">) </span><span class="s9">return</span><span class="s3">; </span><span class="s1">state</span><span class="s3">=</span><span class="s6">'won'</span><span class="s3">; </span><span class="s1">finalTimeEl</span><span class="s3">.</span><span class="s7">textContent</span><span class="s3">=</span><span class="s1">timeEl</span><span class="s3">.</span><span class="s7">textContent</span><span class="s3">; </span><span class="s1">saveBest</span><span class="s3">(</span><span class="s1">elapsed</span><span class="s3">); </span><span class="s1">renderBest</span><span class="s3">(); </span><span class="s1">showWin</span><span class="s3">(); }</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s9">function</span><span class="s3"> </span><span class="s1">saveBest</span><span class="s3">(</span><span class="s1">ms</span><span class="s3">){ </span><span class="s9">try</span><span class="s3">{ </span><span class="s9">const</span><span class="s3"> </span><span class="s1">arr</span><span class="s3">=</span><span class="s1">JSON</span><span class="s3">.</span><span class="s7">parse</span><span class="s3">(</span><span class="s1">localStorage</span><span class="s3">.</span><span class="s7">getItem</span><span class="s3">(</span><span class="s1">BEST_KEY</span><span class="s3">)||</span><span class="s6">'[]'</span><span class="s3">); </span><span class="s1">arr</span><span class="s3">.</span><span class="s7">push</span><span class="s3">(</span><span class="s1">ms</span><span class="s3">); </span><span class="s1">arr</span><span class="s3">.</span><span class="s7">sort</span><span class="s3">((</span><span class="s1">a</span><span class="s3">,</span><span class="s1">b</span><span class="s3">)=&gt;</span><span class="s1">a</span><span class="s3">-</span><span class="s1">b</span><span class="s3">); </span><span class="s1">localStorage</span><span class="s3">.</span><span class="s7">setItem</span><span class="s3">(</span><span class="s1">BEST_KEY</span><span class="s3">, </span><span class="s1">JSON</span><span class="s3">.</span><span class="s7">stringify</span><span class="s3">(</span><span class="s1">arr</span><span class="s3">.</span><span class="s7">slice</span><span class="s3">(</span><span class="s7">0</span><span class="s3">,</span><span class="s7">5</span><span class="s3">))); }</span><span class="s9">catch</span><span class="s3">(</span><span class="s1">e</span><span class="s3">){} }</span></p>
<p class="p8"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s9">function</span><span class="s3"> </span><span class="s4">renderBest</span><span class="s3">(){ </span><span class="s9">try</span><span class="s3">{ </span><span class="s9">const</span><span class="s3"> </span><span class="s4">arr</span><span class="s3">=</span><span class="s4">JSON</span><span class="s3">.</span><span class="s7">parse</span><span class="s3">(</span><span class="s4">localStorage</span><span class="s3">.</span><span class="s7">getItem</span><span class="s3">(</span><span class="s4">BEST_KEY</span><span class="s3">)||</span><span class="s10">'[]'</span><span class="s3">); </span><span class="s4">bestListEl</span><span class="s3">.</span><span class="s7">innerHTML</span><span class="s3"> = </span><span class="s4">arr</span><span class="s3">.</span><span class="s7">length</span><span class="s3">? </span><span class="s4">arr</span><span class="s3">.</span><span class="s7">map</span><span class="s3">((</span><span class="s4">ms</span><span class="s3">,</span><span class="s4">i</span><span class="s3">)=&gt;</span><span class="s10">`&lt;li&gt;&lt;span&gt;#</span><span class="s3">${</span><span class="s4">i</span><span class="s3">+</span><span class="s7">1</span><span class="s3">}</span><span class="s10">&lt;/span&gt;&lt;span class='time'&gt;</span><span class="s3">${</span><span class="s4">fmt</span><span class="s3">(</span><span class="s4">ms</span><span class="s3">)}</span><span class="s10">&lt;/span&gt;&lt;/li&gt;`</span><span class="s3">).</span><span class="s7">join</span><span class="s3">(</span><span class="s10">''</span><span class="s3">) : </span><span class="s10">'&lt;li&gt;No times yet&lt;/li&gt;'</span><span class="s3">; }</span><span class="s9">catch</span><span class="s3">{ </span><span class="s4">bestListEl</span><span class="s3">.</span><span class="s7">innerHTML</span><span class="s3">=</span><span class="s10">'&lt;li&gt;No times yet&lt;/li&gt;'</span><span class="s3">; } }</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s9">function</span><span class="s1"> </span><span class="s4">fmt</span><span class="s1">(</span><span class="s4">ms</span><span class="s1">){ </span><span class="s9">const</span><span class="s1"> </span><span class="s4">s</span><span class="s1">=</span><span class="s4">ms</span><span class="s1">/</span><span class="s7">1000</span><span class="s1">; </span><span class="s9">const</span><span class="s1"> </span><span class="s4">m</span><span class="s1">=</span><span class="s4">Math</span><span class="s1">.</span><span class="s7">floor</span><span class="s1">(</span><span class="s4">s</span><span class="s1">/</span><span class="s7">60</span><span class="s1">); </span><span class="s9">const</span><span class="s1"> </span><span class="s4">sec</span><span class="s1">=</span><span class="s4">Math</span><span class="s1">.</span><span class="s7">floor</span><span class="s1">(</span><span class="s4">s</span><span class="s1">%</span><span class="s7">60</span><span class="s1">); </span><span class="s9">const</span><span class="s1"> </span><span class="s4">d</span><span class="s1">=</span><span class="s4">Math</span><span class="s1">.</span><span class="s7">floor</span><span class="s1">((</span><span class="s4">s</span><span class="s1">-</span><span class="s4">Math</span><span class="s1">.</span><span class="s7">floor</span><span class="s1">(</span><span class="s4">s</span><span class="s1">))*</span><span class="s7">10</span><span class="s1">); </span><span class="s9">return</span><span class="s1"> </span><span class="s6">`</span><span class="s1">${</span><span class="s4">String</span><span class="s1">(</span><span class="s4">m</span><span class="s1">).</span><span class="s7">padStart</span><span class="s1">(</span><span class="s7">2</span><span class="s1">,</span><span class="s6">'0'</span><span class="s1">)}</span><span class="s6">:</span><span class="s1">${</span><span class="s4">String</span><span class="s1">(</span><span class="s4">sec</span><span class="s1">).</span><span class="s7">padStart</span><span class="s1">(</span><span class="s7">2</span><span class="s1">,</span><span class="s6">'0'</span><span class="s1">)}</span><span class="s6">.</span><span class="s1">${</span><span class="s4">d</span><span class="s1">}</span><span class="s6">`</span><span class="s1">; }</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s1">renderBest</span><span class="s3">();</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p7"><span class="s8"><span class="Apple-converted-space">  </span></span><span class="s1"><i>// Main loop</i></span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s9">let</span><span class="s3"> </span><span class="s1">last</span><span class="s3"> = </span><span class="s1">performance</span><span class="s3">.</span><span class="s7">now</span><span class="s3">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s9">let</span><span class="s1"> </span><span class="s4">frameDt</span><span class="s1"> = </span><span class="s7">0</span><span class="s1">;</span></p>
<p class="p9"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s11">function</span><span class="s3"> </span><span class="s4">loop</span><span class="s3">(</span><span class="s4">now</span><span class="s3">){</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s9">const</span><span class="s3"> </span><span class="s1">dt</span><span class="s3"> = </span><span class="s1">Math</span><span class="s3">.</span><span class="s7">min</span><span class="s3">(</span><span class="s7">0.033</span><span class="s3">, (</span><span class="s1">now</span><span class="s3">-</span><span class="s1">last</span><span class="s3">)/</span><span class="s7">1000</span><span class="s3">); </span><span class="s1">last</span><span class="s3"> = </span><span class="s1">now</span><span class="s3">; </span><span class="s1">frameDt</span><span class="s3"> = </span><span class="s1">dt</span><span class="s3">;</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s9">if</span><span class="s3"> (</span><span class="s1">state</span><span class="s3">===</span><span class="s6">'playing'</span><span class="s3">){ </span><span class="s1">elapsed</span><span class="s3"> = </span><span class="s1">now</span><span class="s3"> - </span><span class="s1">tStart</span><span class="s3">; </span><span class="s1">updateTime</span><span class="s3">(</span><span class="s1">elapsed</span><span class="s3">); }</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p7"><span class="s8"><span class="Apple-converted-space">    </span></span><span class="s1"><i>// Input</i></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s9">let</span><span class="s1"> </span><span class="s4">ax</span><span class="s1">=</span><span class="s7">0</span><span class="s1">, </span><span class="s4">ay</span><span class="s1">=</span><span class="s7">0</span><span class="s1">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s9">if</span><span class="s1"> (</span><span class="s4">keys</span><span class="s1">.</span><span class="s7">has</span><span class="s1">(</span><span class="s6">'arrowup'</span><span class="s1">)||</span><span class="s4">keys</span><span class="s1">.</span><span class="s7">has</span><span class="s1">(</span><span class="s6">'w'</span><span class="s1">)) </span><span class="s4">ay</span><span class="s1"> -= </span><span class="s7">1</span><span class="s1">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s9">if</span><span class="s1"> (</span><span class="s4">keys</span><span class="s1">.</span><span class="s7">has</span><span class="s1">(</span><span class="s6">'arrowdown'</span><span class="s1">)||</span><span class="s4">keys</span><span class="s1">.</span><span class="s7">has</span><span class="s1">(</span><span class="s6">'s'</span><span class="s1">)) </span><span class="s4">ay</span><span class="s1"> += </span><span class="s7">1</span><span class="s1">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s9">if</span><span class="s1"> (</span><span class="s4">keys</span><span class="s1">.</span><span class="s7">has</span><span class="s1">(</span><span class="s6">'arrowleft'</span><span class="s1">)||</span><span class="s4">keys</span><span class="s1">.</span><span class="s7">has</span><span class="s1">(</span><span class="s6">'a'</span><span class="s1">)) </span><span class="s4">ax</span><span class="s1"> -= </span><span class="s7">1</span><span class="s1">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s9">if</span><span class="s1"> (</span><span class="s4">keys</span><span class="s1">.</span><span class="s7">has</span><span class="s1">(</span><span class="s6">'arrowright'</span><span class="s1">)||</span><span class="s4">keys</span><span class="s1">.</span><span class="s7">has</span><span class="s1">(</span><span class="s6">'d'</span><span class="s1">)) </span><span class="s4">ax</span><span class="s1"> += </span><span class="s7">1</span><span class="s1">;</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s9">if</span><span class="s3"> (</span><span class="s1">Math</span><span class="s3">.</span><span class="s7">hypot</span><span class="s3">(</span><span class="s1">stickVec</span><span class="s3">.</span><span class="s7">x</span><span class="s3">, </span><span class="s1">stickVec</span><span class="s3">.</span><span class="s7">y</span><span class="s3">) &gt; </span><span class="s7">0.05</span><span class="s3">){ </span><span class="s1">ax</span><span class="s3"> = </span><span class="s1">stickVec</span><span class="s3">.</span><span class="s7">x</span><span class="s3">; </span><span class="s1">ay</span><span class="s3"> = </span><span class="s1">stickVec</span><span class="s3">.</span><span class="s7">y</span><span class="s3">; }</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s9">if</span><span class="s3"> (!</span><span class="s1">ax</span><span class="s3"> &amp;&amp; !</span><span class="s1">ay</span><span class="s3"> &amp;&amp; </span><span class="s1">pointerTarget</span><span class="s3">){ </span><span class="s9">const</span><span class="s3"> </span><span class="s1">dx</span><span class="s3">=</span><span class="s1">pointerTarget</span><span class="s3">.</span><span class="s7">x</span><span class="s3">-</span><span class="s1">mower</span><span class="s3">.</span><span class="s7">x</span><span class="s3">; </span><span class="s9">const</span><span class="s3"> </span><span class="s1">dy</span><span class="s3">=</span><span class="s1">pointerTarget</span><span class="s3">.</span><span class="s7">y</span><span class="s3">-</span><span class="s1">mower</span><span class="s3">.</span><span class="s7">y</span><span class="s3">; </span><span class="s9">const</span><span class="s3"> </span><span class="s1">L</span><span class="s3">=</span><span class="s1">Math</span><span class="s3">.</span><span class="s7">hypot</span><span class="s3">(</span><span class="s1">dx</span><span class="s3">,</span><span class="s1">dy</span><span class="s3">); </span><span class="s9">if</span><span class="s3">(</span><span class="s1">L</span><span class="s3">&gt;</span><span class="s7">4</span><span class="s3">){ </span><span class="s1">ax</span><span class="s3">=</span><span class="s1">dx</span><span class="s3">/</span><span class="s1">L</span><span class="s3">; </span><span class="s1">ay</span><span class="s3">=</span><span class="s1">dy</span><span class="s3">/</span><span class="s1">L</span><span class="s3">; }}</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s9">const</span><span class="s1"> </span><span class="s4">L</span><span class="s1"> = </span><span class="s4">Math</span><span class="s1">.</span><span class="s7">hypot</span><span class="s1">(</span><span class="s4">ax</span><span class="s1">,</span><span class="s4">ay</span><span class="s1">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s9">if</span><span class="s1"> (</span><span class="s4">L</span><span class="s1">&gt;</span><span class="s7">0</span><span class="s1"> &amp;&amp; </span><span class="s4">state</span><span class="s1">!==</span><span class="s6">'intro'</span><span class="s1">){ </span><span class="s4">mower</span><span class="s1">.</span><span class="s7">vx</span><span class="s1">=(</span><span class="s4">ax</span><span class="s1">/</span><span class="s4">L</span><span class="s1">)*</span><span class="s4">mower</span><span class="s1">.</span><span class="s7">speed</span><span class="s1">; </span><span class="s4">mower</span><span class="s1">.</span><span class="s7">vy</span><span class="s1">=(</span><span class="s4">ay</span><span class="s1">/</span><span class="s4">L</span><span class="s1">)*</span><span class="s4">mower</span><span class="s1">.</span><span class="s7">speed</span><span class="s1">; }</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s9">else</span><span class="s1"> { </span><span class="s4">mower</span><span class="s1">.</span><span class="s7">vx</span><span class="s1">*=</span><span class="s7">0.9</span><span class="s1">; </span><span class="s4">mower</span><span class="s1">.</span><span class="s7">vy</span><span class="s1">*=</span><span class="s7">0.9</span><span class="s1">; </span><span class="s9">if</span><span class="s1">(</span><span class="s4">Math</span><span class="s1">.</span><span class="s7">hypot</span><span class="s1">(</span><span class="s4">mower</span><span class="s1">.</span><span class="s7">vx</span><span class="s1">,</span><span class="s4">mower</span><span class="s1">.</span><span class="s7">vy</span><span class="s1">)&lt;</span><span class="s7">5</span><span class="s1">){ </span><span class="s4">mower</span><span class="s1">.</span><span class="s7">vx</span><span class="s1">=</span><span class="s4">mower</span><span class="s1">.</span><span class="s7">vy</span><span class="s1">=</span><span class="s7">0</span><span class="s1">; } }</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s9">const</span><span class="s3"> </span><span class="s1">prevX</span><span class="s3">=</span><span class="s1">mower</span><span class="s3">.</span><span class="s7">x</span><span class="s3">, </span><span class="s1">prevY</span><span class="s3">=</span><span class="s1">mower</span><span class="s3">.</span><span class="s7">y</span><span class="s3">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s4">mower</span><span class="s1">.</span><span class="s7">x</span><span class="s1"> += </span><span class="s4">mower</span><span class="s1">.</span><span class="s7">vx</span><span class="s1"> * </span><span class="s4">dt</span><span class="s1">; </span><span class="s4">mower</span><span class="s1">.</span><span class="s7">y</span><span class="s1"> += </span><span class="s4">mower</span><span class="s1">.</span><span class="s7">vy</span><span class="s1"> * </span><span class="s4">dt</span><span class="s1">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s9">if</span><span class="s1"> (</span><span class="s4">mower</span><span class="s1">.</span><span class="s7">x</span><span class="s1"> &lt; </span><span class="s7">0</span><span class="s1">) </span><span class="s4">mower</span><span class="s1">.</span><span class="s7">x</span><span class="s1"> = </span><span class="s7">0</span><span class="s1">; </span><span class="s9">if</span><span class="s1"> (</span><span class="s4">mower</span><span class="s1">.</span><span class="s7">x</span><span class="s1"> &gt; </span><span class="s4">W</span><span class="s1">) </span><span class="s4">mower</span><span class="s1">.</span><span class="s7">x</span><span class="s1"> = </span><span class="s4">W</span><span class="s1">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s9">if</span><span class="s1"> (</span><span class="s4">mower</span><span class="s1">.</span><span class="s7">y</span><span class="s1"> &lt; </span><span class="s7">0</span><span class="s1">) </span><span class="s4">mower</span><span class="s1">.</span><span class="s7">y</span><span class="s1"> = </span><span class="s7">0</span><span class="s1">; </span><span class="s9">if</span><span class="s1"> (</span><span class="s4">mower</span><span class="s1">.</span><span class="s7">y</span><span class="s1"> &gt; </span><span class="s4">H</span><span class="s1">) </span><span class="s4">mower</span><span class="s1">.</span><span class="s7">y</span><span class="s1"> = </span><span class="s4">H</span><span class="s1">;</span></p>
<p class="p7"><span class="s8"><span class="Apple-converted-space">    </span></span><span class="s1"><i>// Collision with house</i></span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s9">if</span><span class="s3"> (</span><span class="s1">mower</span><span class="s3">.</span><span class="s7">x</span><span class="s3">&gt;</span><span class="s1">house</span><span class="s3">.</span><span class="s7">x</span><span class="s3"> &amp;&amp; </span><span class="s1">mower</span><span class="s3">.</span><span class="s7">x</span><span class="s3">&lt;</span><span class="s1">house</span><span class="s3">.</span><span class="s7">x</span><span class="s3">+</span><span class="s1">house</span><span class="s3">.</span><span class="s7">w</span><span class="s3"> &amp;&amp; </span><span class="s1">mower</span><span class="s3">.</span><span class="s7">y</span><span class="s3">&gt;</span><span class="s1">house</span><span class="s3">.</span><span class="s7">y</span><span class="s3"> &amp;&amp; </span><span class="s1">mower</span><span class="s3">.</span><span class="s7">y</span><span class="s3">&lt;</span><span class="s1">house</span><span class="s3">.</span><span class="s7">y</span><span class="s3">+</span><span class="s1">house</span><span class="s3">.</span><span class="s7">h</span><span class="s3">){ </span><span class="s1">mower</span><span class="s3">.</span><span class="s7">x</span><span class="s3">=</span><span class="s1">prevX</span><span class="s3">; </span><span class="s1">mower</span><span class="s3">.</span><span class="s7">y</span><span class="s3">=</span><span class="s1">prevY</span><span class="s3">; }</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s9">if</span><span class="s3"> (</span><span class="s1">state</span><span class="s3">!==</span><span class="s6">'intro'</span><span class="s3">) </span><span class="s1">cutUnderMower</span><span class="s3">();</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p7"><span class="s8"><span class="Apple-converted-space">    </span></span><span class="s1"><i>// Draw</i></span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">drawField</span><span class="s3">();</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">drawHouse</span><span class="s3">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s4">drawGuy</span><span class="s1">();</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">drawMower</span><span class="s3">();</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s9">if</span><span class="s1"> ((</span><span class="s4">now</span><span class="s1">|</span><span class="s7">0</span><span class="s1">)%</span><span class="s7">8</span><span class="s1">===</span><span class="s7">0</span><span class="s1">) </span><span class="s4">updatePercent</span><span class="s1">();</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">requestAnimationFrame</span><span class="s3">(</span><span class="s1">loop</span><span class="s3">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">  </span></span><span class="s1">requestAnimationFrame</span><span class="s3">(</span><span class="s1">loop</span><span class="s3">);</span></p>
<p class="p4"><span class="s1">})();</span></p>
<p class="p10"><span class="s8">&lt;/</span><span class="s1">script</span><span class="s8">&gt;</span></p>
<p class="p10"><span class="s8">&lt;/</span><span class="s1">body</span><span class="s8">&gt;</span></p>
<p class="p10"><span class="s8">&lt;/</span><span class="s1">html</span><span class="s8">&gt;</span></p>
<p class="p3"><span class="s2"></span><br></p>
<p class="p11"><span class="s2"></span><br></p>
<p class="p12"><span class="s2"></span><br></p>
<p class="p13"><span class="s2">ChatGPT is still generating a response...</span></p>
</body>
</html>
